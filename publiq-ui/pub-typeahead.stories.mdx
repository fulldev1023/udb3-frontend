import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import PubTypeahead from './pub-typeahead';
import PubList from './pub-list';
import PubListItem from './pub-list-item';

<Meta title="Components/pub-typeahead" component={PubTypeahead} />

export const Template = (args, { argTypes }) => {
  return {
    props: Object.keys(argTypes),
    components: { PubTypeahead, PubList, PubListItem },
    data: () => ({
      cities: [
        { id: 1, name: 'Rome' },
        { id: 2, name: 'Paris' },
        { id: 3, name: 'Prague' },
      ],
    }),
    computed: {
      cityNames() {
        return this.cities.map((city) => city.name);
      },
    },
    template:
      '<div><pub-typeahead v-model="searchTerm" :data="cityNames" v-bind="$props" /><pub-list><br /><h4>Dataset</h4><pub-list-item v-for="city in cities">{{city.name}}</pub-list-item></pub-list></div>',
  };
};

## Default

<Canvas>
  <Story
    name="Default"
    args={{ label: 'Search for a city:' }}
    argTypes={{
      data: {
        control: {
          type: false,
        },
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```javascript
<pub-typeahead v-model="searchTerm" label="Search for a city:" :data="cityNames" />
```

<ArgsTable story="Default" />
