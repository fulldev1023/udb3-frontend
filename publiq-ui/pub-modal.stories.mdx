import {
  Meta,
  Story,
  Canvas,
  Props,
  ArgsTable,
} from '@storybook/addon-docs/blocks';
import PubModal, { ModalVariant } from './pub-modal.vue';
import PubButton from '@/publiq-ui/pub-button';

<Meta title="pub-modal" component={PubModal} />

export const Template = (args, { argTypes }) => {
  return {
    props: Object.keys(argTypes),
    data() {
      return {
        isVisible: false,
      };
    },
    components: { PubModal, PubButton },
    methods: {
      handleClick() {
        this.isVisible = true;
      },
      handleHide() {
        this.isVisible = false;
      },
    },
    template:
      '<div><pub-button @click="handleClick">Open modal</pub-button><pub-modal v-bind="$props" :visible="isVisible" @hide="handleHide">Modal content</pub-modal></div>',
  };
};

export const commonArgTypes = {
  variant: {
    control: {
      type: false,
    },
  },
};

**
This component is a wrapper around the [b-modal](https://bootstrap-vue.org/docs/components/modal) component from bootstrap-vue.
**

# Variants

## Question

<Canvas>
  <Story
    name="Question"
    args={{
      title: 'Question modal',
      variant: ModalVariant.QUESTION,
    }}
    argTypes={commonArgTypes}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```javascript
<pub-modal
  title="Question modal"
  :visible="true"
>
  Modal content
</pub-modal>
```

<ArgsTable story="Question" />

## Content

<Canvas>
  <Story
    name="Content"
    args={{
      title: 'Content modal',
      variant: ModalVariant.CONTENT,
    }}
    argTypes={commonArgTypes}
  >
    {Template.bind({})}
  </Story>
</Canvas>

```javascript
<pub-modal
  title="Content modal"
  :visible="true"
  :variant="ModalVariant.CONTENT"
>
  Modal content
</pub-modal>
```

<ArgsTable story="Content" />
