import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { RadioButtonGroup } from './RadioButtonGroup.js';
import { useState } from 'react';

<Meta title="Components/RadioButtonGroup" />

export const commonArgs = {
  name: 'city',
  groupLabel: 'Select a city:',
  items: [
    { label: 'Rome', value: 'rome' },
    { label: 'Paris', value: 'paris' },
    { label: 'Prague', value: 'prague' },
  ],
};

export const commonArgTypes = { onChange: { action: 'onChange' } };

<Canvas>
  <Story name="Default" args={commonArgs} argTypes={commonArgTypes}>
    {(args) => {
      const [selectedCity, setSelectedCity] = useState('rome');
      return (
        <>
          <RadioButtonGroup
            {...args}
            selected={selectedCity}
            onChange={(event) => {
              args.onChange();
              setSelectedCity(event.target.value);
            }}
          />
          <br />
          <p>Selected city: {selectedCity}</p>
        </>
      );
    }}
  </Story>
</Canvas>

<ArgsTable story="Default" />
